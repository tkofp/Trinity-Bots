### 本模组最后更新时间：
### TC：2024 年 10 月 12 日，[9876fd754e]（https://github.com/trickerer/TrinityCore-3.3.5-with-NPCBots/commit/9876fd754e）
### AC：2024年10月12日，[55f9298050]（https://github.com/trickerer/AzerothCore-wotlk-with-NPCBots/commit/55f9298050）
### 更新时间：每周六 05:00 AM UTC+0

### 有问题？发现错误？[问题](https://github.com/trickerer/Trinity-Bots/issues)

# [ NPCBOTS 手册 ]
>编译者：Trickerer（onlysuffering @ Gmail dot Com）
>版本 0.25 - 2023 年 6 月 14 日
>原始版本作者：Thesawolf (@ Gmail dot Com) 版本 0.3 - 2016 年 7 月 20 日 [此处](https://github.com/thesawolf/TrinityCore/blob/TrinityCoreLegacy/README_Bots.md)

---------------------------------------
### 内容

1. [简介](#introduction)
2. [NPCBots](#npcbots)
    - [NPCBot Mod 安装](#npcbot-mod-installation)
    - [NPCBot 命令](#npcbot-commands)
    - [NPCBot 控制和使用](#npcbot-control-and-usage)
        - [NPCBot 入门](#npcbot-getting-started)
        - [NPCBot 招聘替代方案](#npcbot-hiring-alternatives)
        - [NPCBot 四处走动](#npcbot-getting-around)
        - [NPCBot 装备](#npcbot-equipment)
        - [NPCBot 角色](#npcbot-roles)
        - [NPCBot 编队](#npcbot-formation)
        - [NPCBot 能力](#npcbot-abilities)
        - [NPCBot 天赋](#npcbot-talents)
        - [NPCBot 分组](#npcbot-grouping)
        - [NPCBot 附加功能](#npcbot-extras)
    - [NPCBots 和车辆](#npcbots-and-vehicles)
    - [NPCBot 漫游系统](#npcbot-wander-system)
    - [NPCBot 配置设置](#npcbot-config-settings)
    - [NPCBot Mod 本地化](#npcbot-mod-localization)
    - [NPCBot 额外类别](#npcbot-extra-classes)
    - [NPCBot 职业](#npcbot-occupations)
    - [NPCBot 插件](#npcbot-addons)
3. [指南更新日志](#guide-changelog)

---------------------------------------
## 介绍

本手册旨在正式阐述NPCBot系统的目的和使用方法


---------------------------------------
## NPCBOTS

NPCBots 玩家手册可在 [youtube 上找到](https://www.youtube.com/watch?v=fByzoyl3rCY)，由 **QT Blue-AI** 提供

NPCBot 是可雇佣的宠物类仆从（有一些例外）。你无法完全控制它们，但可以通过多种方式调整它们的行为。机器人会跟随你、为你增强、保护你并总体上帮助你。它们的主要目的是在玩家升级期间为他们提供支持，尽管它们也可以进行地下城和突袭，但可以预料到它们在那里会很愚蠢

NPCBot 的特点：

- 战斗（通过法术、近战、远程战斗）

- 提供buff光环

- 提供治疗

- 复活

- 充当守卫（当机器人没有主人时）

- 组队

- 地牢探险（他们可以和你一起进入地牢）

- raid团战（他们可以参加突袭）

- PvP（他们可以与敌对派系的成员战斗）

- 为您提供消耗品（法师、术士）

- 从你那里获得buff光环和消耗品

- 装备装备

- 分配指定组队中的角色

- 技能设置管理

- 等等...


### NPCBot Mod 安装
NPCBots 是 TrinityCore/AzerothCore 的模块 (https://github.com/TrinityCore/TrinityCore/, https://github.com/azerothcore/azerothcore-wotlk/)，仅支持 3.3.5 分支

**TC 和 AC 的已添加好的源码库可在 [这里](https://github.com/trickerer/TrinityCore-3.3.5-with-NPCBots/) 和 [这里](https://github.com/trickerer/AzerothCore-wotlk-with-NPCBots/) 获得**
如果你仍然喜欢这个补丁，那么请继续阅读，否则请克隆补丁后的 repo 并跳至步骤 4

在本文档的开头，您可以找到针对 NPCBots 最新版本的 TrinityCore 修订版的链接。如果您使用的是其他版本的 TrinityCore，则无法保证您能够应用该模组

1. 按照 TrinityCore 安装指南 (https://TrinityCore.info/) 首先安装服务器
2. 下载NPCBots.patch并将其放入TrinityCore文件夹中
3. 使用 `patch -p1 < NPCBots.patch` 命令应用补丁（创建新文件）
4. （重新）运行 CMake 并（重新）构建
5. 将 worldserver.conf.dist 合并到你的 worldserver.conf 文件中（NPCBot mod 设置）
6. 将 `/TrinityCore/sql/Bots/` 中的 SQL 文件应用到您的数据库（以 `characters_` 和 `world_` 开头的文件分别进入您的 `characters` 和 `world` 数据库）：

```
1_world_bot_appearance.sql
2_world_bot_extras.sql
3_world_bots.sql
4_world_generate_bot_equips.sql
5_world_botgiver.sql
characters_bots.sql
```
7. 将 `/TrinityCore/sql/Bots/updates` 中的 SQL 更新文件应用到您的数据库
```
提示：对于全新安装，还有 shell 脚本可供您快速将所有必需的 SQL 文件合并到“ALL_auth.sql”、“ALL_chracters.sql”和“ALL_world.sql”中，以分别转到“auth”、“characters”和“world”数据库
```
之后您就可以开始了

### NPCBot 命令
首先，要列出你的 NPCBot 的统计数据，请对其使用“/bonk”（警告：大列表）

请注意，某些命令可能不适用于所有帐户（取决于其在 RBAC 表 (TC) /“命令”表 (AC) 中设置的访问级别和权限）（在服务端有一个专门的命令表，里面是所有可用命令和命令的权限）。您可能需要更改帐户权限/安全级别才能使用某些命令
大多数 NPCBot 命令按权限分为两组：玩家命令和 GM 命令，还有一些仅限管理员的命令

```
kEY：
< >（尖括号）表示必要的命令参数
[ ]（方括号）表示可选命令参数
|（管道字符）表示参数选择（例如 this|that = this 或 that）
_ARGUMENT_ 表示参数名称
```
**命令**：**`.npcbot`**，**`.npcb`**——（玩家命令）本身将列出所有可用的语法

**`lookup <_CLASS_> [_UNSPAWNED_ONLY_]`** --（GM 命令）按 <职业id号> 查找 NPCBot 列表，返回 NPCBots 列表（包括 ID、名称和种族）

- CLASS_ = 类别 ID（例如 1 代表 WARRIOR）。**`.npcbot lookup`（`.npcb loo`）**（不带参数）列出类别 ID

- UNSPAWNED_ONLY_ = 布尔标志，如果设置为 1，则仅显示尚未生成的 NPCBot
- **示例用法**：
  - .npcbot lookup 7`（列出所有萨满）`
  - .npcb loo 11 1（列出所有未生成的德鲁伊）

**`list`** ——（GM 命令）

- **`spawned`** —— 列出世界上所有生成的机器人、它们的位置和快速状态

  - **`free`** —— 与上面相同，但仅列出 **unowned** （未被雇佣的）机器人

    **示例用法**：

    －`.npcbot list spawned`

    －`.npcbot list spawned free`

    －`.npcbot list s f`

**`add _TARGET_`** -- (GM 命令) 绕过价格条件（不用钱）雇佣NPCBot 机器人。仅适用于没有被雇佣的 NPCBot

- _TARGET_ = 选定的 NPCBot机器人

  **示例用法**：

  - `.npcbot add`
  - ``.npcb add`

**`remove _TARGET_`** -- (GM 命令) 从玩家控制中解除 NPCBot 的控制。**通过此命令移除的任何机器人都会保留其装备**

- TARGET_ = 选定的活动 NPCBot（解散选定的 NPCBot）
- TARGET_ = 选定玩家（解散所有 NPCBots）
  **示例用法**：
  - `.npcbot remove`
  - `.npcb rem`

**`free _TARGET_`** -- (GM 命令) 将选定的 NPCBot 从玩家手中解放出来。**所有装备将卸下并送回给玩家，可用于非活动 NPCBot**

- _TARGET_ = 选定的 NPCBot（释放选定的 NPCBot）

  **示例用法**：

  - `.npcbot free`

**`spawn <_ENTRY_|_LINK_>`** -- (GM 命令) 在世界中生成一个 NPCBot，NPCBot 保存在 DB 中。仅适用于世界地图（而非实例）。请注意，与其他生物不同，每个 NPCBot 只能生成一个实例，但不用担心：有许多 NPCBot 可供选择

- ENTRY_ = NPCBot 的 ID（可从查找列表中获取）
- LINK_ = 通过 Shift-单击添加的creature_template链接（从查找列表中获取）
  **示例用法**：
  - `.npcbot spawn 70001`（生成 ID 为 70001 的 NPCBot）
  - `.npcb sp 70002`（生成 ID 为 70002 的 NPCBot）
  - `.npcb sp [Haromm]`（通过链接生成 NPCBot）

**`move <_ENTRY_|_LINK_|_TARGET_>`** -- (GM 命令) 将生成的 NPCBot 移动到新位置。此命令替换机器人的 `.npc move` 命令

- ENTRY_ = NPCBot 的 ID
- _LINK_ = 通过 Shift-单击添加的creature_template链接（从查找列表中获取）
- _TARGET_ = 选定的 NPCBot
  **示例用法**：
  - `.npcbot move 70001`（将 ID 为 70001 的 NPCBot 移动到你的位置）

**`delete`** -- (GM 命令) 从世界中删除 NPCBot，如果有的话，NPCBot 将从其所有者那里移除并从数据库中删除。**装备将返回给机器人的所有者（如果有）或使用该命令的玩家**。如果您需要机器人所有者**不**取回装备，请在删除之前使用 `.npcbot remove` 机器人。如果从控制台对**无主但装备齐全**的 NPCBot 使用命令，命令将失败

- _TARGET_——删除选定的 NPCBot

  - _TARGET_ = 选定的 NPCBot

    **示例用法**：

    - `.npcbot delete`

    - `.npcb del`

  - id _ID_——使用生物 ID 而不是目标来删除 NPCBots，可从控制台使用

    - _ID_ = 生物 ID (`creature_template`.`entry`)

      **示例用法**：

      - `.npcbot 删除 id 70032`

      - `.npcb 删除 ID 70032`

  - free -- 删除**所有**未被雇佣的 NPCBots，可从控制台使用
    **示例用法**：

    `.npcbot 删除免费`

    `.npcb del f`

**`set`** (GM 命令)

- **`faction <a|h|m|f|_factionID_> _TARGET_`** -- 为选定的 NPCBot 设置派系

  - a = 1802（联盟队）

  - h = 1801（部落队伍）

  - m = 14（怪物，对所有人都怀有敌意）

  - f = 35（对所有人友好）

  - _factionID_ = 来自 FactionTemplate.dbc 的 ID（仅限专家）。它不是您使用 `.lookup faction` 命令获得的结果（不是通过 `.lookup faction`命令获得的id）

  - _TARGET_ = 选定的 NPCBot
    **示例用法：**

    - `.npcbot set faction`（本身将显示派系的子命令列表）

    - `.npcb s f m`（将选定的 NPCBot 的派系设置为 HostileToAll(敌视所有人)）

- **`owner <_GUID_|_NAME_> _TARGET_`** - 将选定 NPCBot 的所有权设置为特定玩家

  - _GUID_ = 玩家数据库 guid

  - _NAME_ = 玩家姓名

  - _TARGET_ = 选定的 NPCBot

    **示例用法：**

    - `.npcbot set Owner 312`（将选定的 NPCBot 所有者设置为 guid 为 312 的玩家）
    - `.npcb s o Myplayer`（将选定的 NPCBot 所有者设置为名为 `Myplayer` 的玩家）

- **`spec <_NUMBER_> _TARGET_`** -- 强制更改选定 NPCBot 的规格

  - _NUMBER_ = 从 **1** 到 **30** 的数字

  - _TARGET_ = 选定的 NPCBot

    **示例用法：**

    - `.npcbot set spec 2`（选定的 NPCBot 将立即响应进入(Fury talent tree)狂暴天赋树中；天赋只适用于战士 NPCBot）

**`revive _TARGET_`** ——（GM 命令）复活 NPCBot

_TARGET_ = 选定的 NPCBot（复活该 NPCBot）

_TARGET_ = 选定玩家（复活选定玩家的所有 NPCBot）
**示例用法：**

`.npcbot 复活`
-`.npcb rev`

**`reloadconfig`** ——（GM 命令）重新加载 NPCBot 系统设置
-（无参数）
**示例用法：**

`.npcbot 重新加载配置

**`命令`**——（玩家命令）允许管理你的 NPCBots 定位、移动和其他事物（本身将显示子命令列表）

**`follow _TARGET_`** - 将 NPCBot 设置为跟随模式

**`only`** -- 切换 NPCBots 的非活动模式。非活动机器人不会做任何事情，只会跟随

**`standstill _TARGET_`** - 将 NPCBot 设置为 STAY 模式

**`stopfully _TARGET_`** -- 将 NPCBot 设置为 IDLE 模式

_TARGET_ = 选定的（你的）NPCBot（命令影响此 NPCBot）

_TARGET_ = 任何其他单位或未选择（命令影响所有 NPCBots）

**`nocast`**——切换 NPCBots 施放任何法术的能力

**`nolongcast`** —— 切换 NPCBots 以非零施法时间施放法术的能力

**`unbind <_TARGET_|_NAMES..._>`** -- 暂时释放 NPCBot 而不将其解散。Bot 将返回原位并在那里等待，直到被邀请回来（或服务器重启）

**`rebind <_TARGET_|_NAMES..._>`** -- 调用未绑定的 NPCBot。使用 `.npcbot info` 列出未绑定的 NPCBot

_TARGET_ = 选定的（你的）NPCBot（命令影响此 NPCBot）

_NAMES..._ = 不区分大小写的 NPCBot 名称，*name_containing_spaces_must_be_underscored*（命令影响命名的 NPCBot）

**`walk`** —— 切换 NPCBots 的行走模式

**`nogossip`** — 切换 NPCBots 的 GOSSIP 可用性
**示例用法：**

`.npcbot 命令停止`（NPCBot 停止移动并保持位置）

`.npcb co sta`（同上）

`.npcbot command stopfully`（NPCBot 将中断所有操作，停止并且不对任何事情做出反应）

`.npcbot 命令跟随` (如果 NPCBot 还没有跟随你，它将会跟随你)

`.npcbot 命令仅跟随`（所有 NPCBots 在跟随你时不会做任何事情）

`.npcb co nog`（即使在战斗之外，您也无法打开 NPCBot 八卦菜单）

`.npcb co unb sheal`（暂时移除德鲁伊 NPCBot Sheal）

**`info _TARGET_`** --（玩家命令）显示所拥有机器人的信息

_TARGET_ = 选定的分组玩家或自身（显示该玩家的信息）
**示例用法：**

`.npcbot 信息`

`.npcb 输入`

**`hide`** -- (玩家命令) 强制 NPCBot 暂时消失。它们将传送出地图并离开世界，直到被允许返回。无法在战斗中使用
-（无参数）
**示例用法：**

`.npcbot 隐藏`
-`.npcb h`

**`unhide`|`show`** --（玩家命令）与 `.npcbot hide` 命令相反；你的 NPCBots 将很快出现。不能在战斗中使用
-（无参数）
**示例用法：**

`.npcbot 取消隐藏`

`.npcbot 秀`

**`sendto <_TARGET_|_NAMES..._>`** -- (玩家命令) 30 秒内让 NPCBot 等待您的信号移动到静止位置。该位置必须由目标法术 (AoE、烟雾弹、炸药等) 指向。驻扎的机器人将无限期地停留在那里，使用跟随命令将它们召回。处于 FULLSTOP 状态的机器人无法通过此命令移动

**`last <_TARGET_|_NAMES..._>`** --（玩家命令）与普通的`sendto`相同，但将 NPCBot 移回到机器人**发送**的先前位置，使其成为固定的

**`point <NUMBER> <_TARGET_|_NAMES..._>`** -- （玩家命令）将 NPCBot 移动到先前标记的站点

**`set <_NUMBER_> <_TARGET_|_NAMES..._>`** -- （玩家命令）通过 `<_NUMBER_>` 将 NPCBots 的当前位置标记为站点

_NUMBER_ = 范围为 `1 ... 5` 的整数

_TARGET_ = 选定的 NPCBot（移动单个 NPCBot）

_NAMES..._ = 以空格分隔的不区分大小写的 NPCBot 名称，*name_containing_spaces_must_be_underscored*（移动一组 NPCBot）
**示例用法：**

`.npcbot 发送至`

`.npcb 发送 eva jol eanor harene`

`.npcbot sendto last eva jol eanor harene`

**`recall _TARGET_`** --（玩家命令）强制 NPCBot 直接移动到您的位置。死亡时可用。主要设计用于当您死亡并且您的 NPCBot 被卡在纹理下并同时处于战斗中的情况

**`teleport _TARGET_`** -- (玩家命令) 强制 NPCBot 立即*传送*到你身边。不能在 PvP 中使用

**`spawns`** -- (玩家命令) 强制非活动 NPCBot 立即传送到其生成位置。如果机器人在注销后没有加入您，则使用

_TARGET_ = 选定的 NPCBot（移动单个 NPCBot）

_TARGET_ = 自身（移动所有 NPCBots）
**示例用法：**

`.npcbot 召回`

`.npcb rec tele`

**`kill _TARGET_`|`suicide _TARGET_`** -- (玩家命令) 强制 NPCBot 死亡。设计用于在 NPCBot 行为不正常等情况下进行故障排除。这可能是由一种罕见的错误导致生物保留单位状态所致。如果此方法不起作用，请尝试“/tickle”它们

_TARGET_ = 选定的 NPCBot（杀死单个 NPCBot 麻烦制造者）

_TARGET_ = 自身（杀死所有 NPCBot）
**示例用法：**

`.npcbot 杀死`

`.npcbot 自杀`

**`order`** --（玩家命令）允许您向 NPCBot 发出命令。命令优先于任何其他操作。每个机器人一次最多可以有 3 个排队的命令（本身将显示子命令列表）

**`cast <_BOT_NAME_ OR _CLASS_NAME_> <_SPELL_NAME_> [_TARGET_TOKEN_]`** -- 施放一些法术

_BOT_NAME_ 或 _CLASS_NAME_ = 您的机器人名称（在客户端语言环境中），不区分大小写，或机器人类名称（英文，小写），*name_containing_spaces_must_be_underscored*

_SPELL_NAME_ = 客户端语言环境中的咒语名称。所有空格必须用下划线替换。不区分大小写

_TARGET_TOKEN_ = 可选目标标识符字符串。如果留空，机器人将以自身为目标。不区分大小写。可能的值：

`bot`, `self` = selfcast

`me`, `master` = 机器人所有者（你）

`target` = 机器人的当前目标（如果机器人没有目标则不起作用）

`mytarget` = 你当前的目标（如果没有目标则不起作用）
**示例用法：**

`.npcbot 命令对我施放 javad lesser_healing_wave`

`.npcbot 命令施放 javad 清除 mytarget`

**`useonbot`** --（玩家命令）允许您使用仅针对 NPCBot 上的玩家的能力。复活、干预、误导等团体法术。这可以绕过任何阻止选择机器人作为这些法术目标的*客户端*限制

**`spell <_SPELL_ID_ OR _SPELL_LINK_ OR _SPELL_NAME_>`** -- 使用能力

_SPELL_ID_ = 法术 ID

_SPELL_LINK_ = 按 Shift 键从法术书单击到聊天的结果

_SPELL_NAME_ = 从法术书按住 Shift 键单击到宏窗口的结果，可以是“法术名称”或“[法术名称]”。区分大小写

**`item <_ITEM_ID_ 或 _ITEM_LINK_ 或 _ITEM_NAME_>`** -- 使用项目

_ITEM_ID_ = 法术 ID

_ITEM_LINK_ = 按住 Shift 键并单击，从法术书进入聊天界面

_ITEM_NAME_ = 从法术书按住 Shift 键单击到宏窗口的结果，可以是“项目名称”或“[项目名称]”。区分大小写
**示例用法：**

`.npcbot useonbot 法术 [复活]`

`.npcbot useonbot 咒语抑制魔法`

`.npcbot useonbot 法术干预`

`.npcbot useonbot 物品 [侏儒军刀]`

`.npcb 使用 s 进行干预`

**`distance <_VALUE_>`** --（玩家命令）允许您快速设置机器人跟随距离（本身将显示完整的帮助）

**`attack <_VALUE_|_SHORT_|_LONG_>`** -- （玩家命令）设置攻击距离

_VALUE_ = 所选距离类型的所需值（在标准距离范围内）

_SHORT_, _LONG_ = “短”和“长”精确字符串，表示该类别的最小和最大可用法术范围
**示例用法：**

`.npcbot 距离 75`

`.npcbot 距离攻击 20`

`.npcb dist 简短`

**`车辆弹出_TARGET_`** - （玩家命令）允许您将 NPCBots 踢出车辆（机器人在战斗中不会自动从车辆上下来）

_TARGET_ = 选定的 NPCBot（弹出该 NPCBot）

_TARGET_ = 自身（弹出所有 NPCBots）
**示例用法：**

`.npcbot 车辆弹出`

`.npcb 车辆`

**`go _ENTRY_`** -- (GM 命令) 允许您传送到 NPCBot 的当前位置，类似于玩家的 `.appear` 命令。请小心，因为此命令可能会偶尔由于生物路径错误而将您传送到地面以下

_ENTRY_ = 生物 ID
**示例用法：**

`.npcbot go 70855`（传送至 NPCBot 70855）
-`.npcb 转到 70855`

**`wp`** ——（GM 命令）一组用于操纵自由漫游机器人漫游点的开发命令。如果您想使用它们，请参阅代码
-**`spawnall`**
-**`移动`**
-**`添加`**
-**`删除`**
-**`列表`**

**`列出全部`**
-**`去`**
-**`setlevels`**
-**`setlevels z`**
-**`setflags`**
-**`setflags z`**
-**`设置名称`**
-**`setlinks`**
-**`信息`**

**`链接`**

**`dump`** ——（管理命令）允许您迁移机器人数据，类似于玩家的`pdump`（本身将显示子命令列表）

**`write <_FILENAME_>`**——创建一个备份文件，其中包含将机器人移动到另一个数据库所需的信息

_FILENAME_ = 要创建的文件的名称，将保存在服务器根文件夹（Windows）或主目录（Linux）中，如果没有提供文件扩展名，则将使用**.sql**
**示例用法：**

`.npcbot dump write bots_backup`（写入`bots_backup.sql`）

`.npcb du w 1.txt`（写入`1.txt`）

**`load <_FILENAME_> [_KICK_PLAYERS_]`** -- 将 NPCBots 信息从备份文件加载到 DB。无需玩家参与（使用控制台），完成后将强制重启服务器。NPCBots mod 必须已安装（所有表格均存在）

_FILENAME_ = 您的备份文件名，必须存储在服务器根文件夹（Windows）或主目录（Linux）中，如果没有提供文件扩展名，则将使用**.sql**

_KICK_PLAYERS_ = 布尔标志，如果设置为 1，所有玩家将自动被踢出服务器
**示例用法：**

`.npcbot dump load bots_backup`（从`bots_backup.sql`加载）

`.npcb du l 1.txt`（从`1.txt`加载）

**`log`** (管理员命令)

**`clear`** — 清除 `characters_npcbot_logs` 表（并重置自动增量）
-（无参数）
**示例用法：**

`.npcbot 日志清除

`.npcb 日志 c

**`createnew <_NAME_> <_CLASS_> _RACE_ _GENDER_ _SKIN_ _FACE_ _HEARSTYLE_ _HAIRCOLOR_ _FEATURES_ _SOUNDSET_`** --（管理员命令）允许您创建新的 NPCBot 供玩家使用。生物 ID 70800+ 用于此目的。

_NAME_ = 创建的 NPCBot 的名称。请注意，首字母始终为大写，*name_containing_spaces_must_be_underscored*

_CLASS_ = 这指的是 NPCBot 类。使用 `.npcbot lookup` 命令列出所有可用的类

_RACE_ = 你必须为你的新 NPCbot 提供一个种族，除非你正在创建一个特殊类别的 NPCBot，该类别的种族以及其他详细信息是预先定义的
1：人类

2：兽人

3：矮人

4：暗夜精灵

5：亡灵

6：牛头人

7：侏儒

8：巨魔

10：血精灵

11：德莱尼

_GENDER_ = 与 _RACE_ 相同，对于普通类别，您必须选择一个

0：男性
1：女性

_SKIN_、_FACE_、_HEARSTYLE_、_HAIRCOLOR_、_FEATURES_ = 外观细节，`0` 及以上。不同的种族/性别组合对视觉效果有不同的限制，使用 `.npcbot createnew ranges` 来查看它们

_SOUNDSET_ = 供机器人使用的 NPC 语音变体。每个种族有 3 种变体，默认情况下选择是随机的
**示例用法：**

`.npcbot createnew Selendris 8 10 1 6 4 3 2 4`（创建一个红发女性血精灵法师 npcbot）

`.npcb cre Selendris 8 10 1 6 4 3 2 4`（创建一个红发女性血精灵法师 npcbot）

`.npcb createnew ranges`（打印所有种族的视觉约束）

### NPCBot 控制与使用
#### NPCBot 入门
如果这是您第一次使用 NPCBot，您需要执行以下操作才能开始：

- `.npcbot 查找`

这将为您提供可用类别的列表，并带有指示每个类别的 ID。例如，1 是战士的类别 ID。

_示例输出_：
```
.npcbot 查找 #class
通过#class 查找 npcbots，并返回所有与其生物 ID 匹配的。
机器人等级战士 = 1
机器人等级圣骑士 = 2
BOT_CLASS_HUNTER = 3
BOT_CLASS_ROGUE = 4
机器人等级祭司 = 5
机器人类死亡骑士 = 6
BOT_CLASS_SHAMAN = 7
机器人等级法师 = 8
机器人等级术士 = 9
机器人类德鲁伊 = 11
机器人等级_剑士 = 12
BOT_CLASS_SPHYNX = 13
BOT_CLASS_ARCHMAGE = 14
BOT_CLASS_DREADLORD = 15
BOT_CLASS_SPELLBREAKER = 16
机器人类黑暗游侠 = 17
BOT_CLASS_NECROMANCER = 18
BOT_CLASS_SEA_WITCH = 19
机器人类CRYPT_LORD = 20
```

确定要查找的类别后，请输入：

- `.npcbot 查找 1`
```
正在寻找 1 类机器人......
70001 - [莱恩] 人类
70002 - [瑟兰] 矮人
70003 - [Lyria] 人类
70004 - [安德] 矮人
70005-[Malosh] 兽人
70006 - [格拉尼斯] 矮人
...
70038 - [凯拉] 血精灵
```
接下来，您将从列表中选择一个 NPCBot：

- `.npcbot 生成 70003`
在此示例中，我们将选择 ID 为 70003 的 Lyria

Lyria 将以 80 级战士的身份出现在您的位置（默认情况下，NPCBots 以最高级别出现）
请注意，您生成的 NPCBot 是友好的。默认情况下，NPCBot 生成的派系 ID 设置为 35（对所有人都友好）但 NPCBot 将遵循领域 PvP 规则，即使是 FFAPvP
此外，NPCBot 不会攻击任何东西，除非受到挑衅，此时它们可能会试图尽一切努力杀死目标；它们可能非常执着
**NPCBot 只能在世界地图中生成**

右键单击 NPCBot 将打开“Gossip Menu”（其中提供一些命令选项）
_示例输出_：
```
你需要什么吗？
- <雇用机器人>
- 没关系
```
注意：如果你启用了 GM 模式，你还将看到“\<Debug\>”菜单

接下来，您很可能只需选择“\<Hire bot\>”，它将弹出一个确认框询问：
“您想雇用 Lyria 吗？”，您可以选择_接受_或_取消_费用金额。
注意：价格随您的等级而变化，但稀有和精英机器人的价格更高，并且可能需要您至少达到 X 级才能雇用它们

雇佣NPCBot后，他们会自动匹配你的等级。
右键单击 NPCBot 将打开一个新的八卦菜单，其中包含各种选项（在以下小节中描述）。您的 NPCBot 将在组内或组外跟随您，但最好将它们放入您的组中，以便您可以在小地图上监视它们的位置、健康/法力等。您新雇用的八卦菜单将显示：
```
- 管理设备...
- 管理角色...
- 管理阵型...
- 管理能力...
- 管理人才……
- 提供消耗品...
- <创建群组>
- 你被解雇了
- 振作起来，该死的
- 没关系
- [此处可以显示可选选项]
- <创建群组（所有机器人）>
- <添加到群组>
- <将所有机器人添加到组>
- <从群组中移除>
- [此处可显示特定类别的选项]
```

现在，选择“\<创建群组\>”，您的 NPCBot 将加入您的群组，然后您就可以开始您的冒险了！
如前所述，其他选项将在本文的后面讨论。

#### NPCBot 招聘替代方案
如果您愿意，您还可以生成一个提供 NPCBot 招聘服务的 NPC。这可以通过 `.npc add` 命令以正常方式完成：

- `.npc 添加 70000`
右键单击 NPC 将打开“八卦菜单”：
```
总有一些人为了钱不惜杀人。
- 我需要你的服务
- 没关系
```

在菜单中，您将看到 NPCBot 类别列表。选择其中一个后，将出现世界中可供您使用的 NPCBot 列表。
请注意，通过这种方式雇用 NPCBot 所需满足的条件与通常雇用的条件完全相同，唯一的区别是您不需要走遍世界各地寻找所需的 NPCBot。

#### NPCBot 四处走动
无论是否组队，您的 NPCBot 都会跟随您，一路上为您增强（如果它们可以增强），在需要时为您治疗（如果是治疗型 NPCBot），攻击您身边的物体，甚至在您死亡时为您复活（如果它们可以复活）。NPCBot 的设计旨在跟上您的奔跑速度，并在您奔跑时骑上它们自己的坐骑。如果它们跟不上您的速度（由于您移动速度过快或它们陷入战斗或其他原因），您的 NPCBot 最终将传送到您的位置（即使您进入另一张地图）。
注意：如果 NPCBot 不属于您的团队，当您在地牢中时，它们就无法传送到您身边。

大多数情况下，你去某个地方，他们就会跟随你。就这么简单。
在跟随可能不安全或您想要安全前进的情况下，您有几种选择。

如果您的 NPCBot 就在您附近，您可以瞄准它们并表达表情：
- `/stand` 让你的 NPCBot 留在原地
- `/wave` 让你的 NPCBot 再次跟随你

如果您的 NPCBot 无法被瞄准或不在附近（以供选择），您可以使用以下命令：

- `.npcbot 命令停留` (`.npcb cs`) 使所有你控制的 NPCBots 停留

- `.npcbot 命令跟随` (`.npcb cf`) 使所有你控制的 NPCBots 跟随

如果您的 NPCBot 离您太远，您的 NPCBot 将会自行传送到您身边。
你也可以使用 `.npcbot recall teleport` 命令强制你的 NPCBots 传送到你身边

当您离开世界时，您的 NPCBot 不会在您决定退出的地下城外徘徊。除非您在该地下城外生成了该 NPCBot。当您退出时，您的 NPCBot 会暂时变为普通的免费 NPCBot（但无法雇用，因为它们已经有了主人 - 您）并返回其生成位置。如果您在达纳苏斯捡到您的 NPCBot，它会返回那里。如果您在穿过贫瘠之地的道路上生成了您的 NPCBot，它会返回那里。这既烦人又好，在一个好的中心位置（例如在城市中）生成 NPCBot，将为您提供一种雇用它们的简单方法（巧合的是，它们喜欢闲逛并为路人增光）。

#### NPCBot 装备
NPCBot 出生时会配备一些基本装备和衣服。然而，有些 NPCBot 一开始会配备一些相当强大的武器，但它们只是视觉上的，没有提供任何好处：没有伤害，没有统计数据。什么都没有。它们是 __纯视觉__。事实上，在大多数情况下，这些武器是职业外观的一部分，并且将永远保留（例如黑暗游侠和她值得信赖的弓）
NPCBot 可让您定制其个人装备，使其在战斗中更有效。请注意，NPCBot 装备的外观变化不是即时的（武器除外）

要更改他们的装备，您需要右键单击该 NPCBot 并从其雇佣后八卦菜单中选择“管理装备...”。然后您应该会看到以下内容：
```
- 让我看看你的库存
- 自动装备...
- 主手……
- 远程……
- 头...
-肩膀……
- 胸部...
- 腰部...
- 腿……
- 脚...
- 手腕...
- 手……
- 后退...
- 衬衫...
- 手指 1……
- 手指 2……
- 小饰品 1……
- 小饰品2……
- 脖子...
- 解除所有装备
- 更新视觉效果
- 后退
```
正如你所见，你可以装备 NPCBot 上的几乎每个插槽

- “显示你的库存”将使 NPCBot 悄悄向你列出他们目前拥有的所有物品，包括物品图标（有助于了解物品装备在哪个位置）

- “自动装备”将列出您包中所有可供 NPCBot 使用的物品。单击其中一件物品将自动将其交给 NPCBot 并将其装备到适当的位置

- `_(INDIVIDUAL GEAR SLOTS)_` 将显示他们已装备的物品（如果有）、使用旧装备的选项（如果有的话）或取消装备的选项（如果您给了他们一些装备）、NPCBot 可以在该槽中使用的您包中的任何物品的列表以及返回选项。选择您的任何包物品都会自动将该物品发送给 NPCBot 并让他们装备它。使用旧装备或取消装备的选项将使 NPCBot 将您给他们的装备返回到您的包中。然后他们将返回到该槽的默认装备/状态。您还可以使用您库存/包中的物品幻化显示装备槽中的物品（如果启用了此功能），请参阅世界服务器配置以了解幻化规则

- “取消所有装备”将让他们这样做...将你给他们的__ALL__装备放回你的包里。如果你的包里没有足够的空间，多余的物品将邮寄给你。注意：当射击 NPCBot 时，你给 NPCBot 的任何装备都会自动返回给你

- 此菜单中有一个名为“Bot gear bank...”的附加可选项目，可通过在配置中设置“NpcBot.GearBank.Enable = 1”来启用。它允许访问无限的装备存储空间 - 当您拥有太多机器人而无法将所有额外装备放在自己的包中时，此功能非常有用。这当然是一种漏洞，因此默认情况下禁用此功能。请注意，此存储空间是按玩家保存的，因此当您的最后一个机器人被解散时，您不会丢失此装备，但同时，如果没有机器人可以交谈，您将无法访问它

- `BACK` 只是返回上一个菜单

#### NPCBot 角色
NPCBot 角色管理允许您调整它们的整体操作方式。可用选项取决于您控制的 NPCBot 的类别

要调整 NPCBot 的角色，您需要右键单击该 NPCBot 并从其八卦菜单中选择“管理角色...”。然后您应该会看到（取决于类别）：
```
- 收集……
- 抢劫……
- 坦克
- 副坦克
- 存款保障计划
- 治愈
- 远程
- 后退
```
点击相应的角色将打开/关闭它（更改图标）

这些角色可能有点难以理解：

- “坦克”角色意味着 NPCBot 会尝试制造尽可能多的威胁，使用类似嘲讽的技能重新激怒正在攻击好友的目标，并更自由地使用防御冷却时间。这不包括攻击任何东西。未启用“副坦克”的“坦克”机器人被视为主坦克，并将始终停留在“TankTargetIconMask”指向的目标上（参见 [配置设置](#npcbot-config-settings)）

- “副坦克”是“坦克”角色的补充，使坦克 NPCBot 优先考虑“副坦克目标”指向的目标。启用此角色也会自动启用“坦克”角色

- “DPS”角色允许 NPCBot 真正造成伤害。如果禁用此角色，NPCBot 将不会使用伤害能力，甚至不会自动攻击

- 您的治疗师需要启用“治疗”功能。如果禁用此角色，NPCBot 将不会尝试治疗任何东西，甚至不会治疗自己。不，即使面临必死无疑的局面

- “远程”角色会影响 NPCBot 的定位以及它们与攻击目标的距离。远程 DPS 非坦克机器人将始终攻击“RangedDPSTargetIconMask”指向的目标
_示例_：战士在启用坦克 + DPS + 远程角色时，会不断尝试嘲讽目标并逃跑，只有当目标追上来时才会攻击

建议只为该职业启用 1 或 2 个特定角色，以尽量减少他们频繁切换战术。唯一的例外是牧师，它可以很好地处理 DPS、治疗和远程角色（他们会保留一些法力用于治疗并诉诸魔杖）

“采集……”角色允许 NPCBot 收集不同的矿石、草药、皮革和其他贸易商品。它不允许追踪这些商品，所以祝你好运。它也不允许机器人制作任何东西。NPCBot 的技能根据其级别分配，因此例如 1 级 NPCBot 将无法开采秘银。请注意，机器人只会使用**你**非常接近的节点

“掠夺……”角色允许 NPCBot 自动快速地从附近的可掠夺生物处为您和您团队中的其他玩家收集物品。确保为您的掠夺机器人选择掠夺方法、团队中的质量阈值和掠夺设置

#### NPCBot 形成
有时你只是希望 NPCBot 靠近你……或者尽可能远离你。阵型选项允许你调整 NPCBot 与你的距离。

从他们的八卦菜单中选择“管理阵型...”来调整阵型。您将看到：
```
- 跟随距离（当前：XX）
- 禁用战斗定位
- 攻击距离...
- 攻击角度...
- 参与行为...
- 优先目标（坦克）...
- 优先目标（DPS）...
- 后退
```
注 1：仅当 NPCBot 分配了“远程”角色时，您才会看到“禁用战斗定位”、“攻击距离……”和“攻击角度……”
注2：仅当 NPCBot 不是坦克时你才会看到“接合行为”
注 3：仅当 NPCBot 具有所需角色、您在组中并且设置了至少一个属于相应目标图标掩码的目标图标时，您才会看到`优先目标 (<角色>)...`（请参阅 [配置设置](#npcbot-config-settings)）。**优先目标是为每个 NPCBot 单独设置的**
选择“跟随距离”将打开一个弹出窗口，您可以在其中输入一个数值。该数值可以是 **0** 到 **100** 之间的任意值。任何高于 **100** 的设置将默认为 **100**，任何低于 **0** 的设置将默认为 **0**。将距离设置为 **0** 将导致 NPCBot 被动地跟随您相当近，并且除非您攻击，否则不会与怪物交战

如果选中“禁用战斗定位”选项，你的“远程” NPCBot 将不会尝试采取攻击位置，而是即使在战斗中也会保持其跟随定位，仅攻击可触及的目标

选择“攻击距离...”将允许您设置远程攻击距离。您将看到：
```
- 短距离攻击
- 远程攻击
- 精确（0-50）
- 后退
```
注意：如果设置了“精确”模式，其文本将变为
```
- 精确（当前：XX）
```
短距离攻击是 NPCBot 职业所有远程攻击中最短的攻击距离。例如，对于圣骑士来说，它是 10 码（审判范围），对于法师来说，它是 20 码（火焰冲击范围）
远程攻击与短程攻击相反。对于大多数职业来说，远程攻击距离约为 30-35 码。这种模式在攻击太危险而无法靠近的物体时很有用
选择“精确”将打开一个弹出窗口，您可以在其中输入金额。此金额可以是 **0** 到 **50** 之间的任意值。规则与跟随距离相同
注意：将精确攻击距离设置为 **0** 将使 NPCBots（及其宠物）试图将自己定位在目标之上（忽略模型大小）

“攻击角度...”允许您设置远程机器人定位模式。您将看到：
```
- 普通的
- 避免正面 AOE
- 后退
```
如果你告诉你的 NPCBots 避免正面 AOE，他们会尝试将自己定位在不会被击中的位置，在目标的后面和两侧，但只有当你做同样的事情或已经处于目标的近战范围内时才会发生

“参与行为......”子菜单用于管理战斗开始时机器人的行为：
```
- 延迟攻击：X.XXs
- 治疗目标健康阈值：XX%
- 后退
```
攻击延迟是你的“DPS” NPCBot 在开始攻击之前等待的时间（以秒为单位）。**这不适用于坦克和治疗师**
治疗阈值是单位健康百分比，友方单位达到或低于该百分比将被视为您的 NPCBot 的可治疗目标。这是一种告诉您的 DPS+Heal 机器人不要治疗任何人的方法，除非*真的*需要。此参数对每个机器人都是独立的。**仅适用于治疗师**

`优先目标（<角色>）...` 允许您根据角色为每个机器人单独设置主要目标：
```
- <图标> <名称>
- <图标> <名称>
-...
- <无>
- 后退
```
此处的“图标”是组目标图标（骷髅、十字架等），“名称”是标记单位的名称。这些行的数量是属于相应角色的**活动**图标的数量。如果标记目标是可攻击的，那么在交战时，该 NPCBot 将立即冲向该单位，而不是正常瞄准。请注意，优先级目标是**由图标设置**的，并且当图标设置为另一个单位时将保持不变，这个新单位将成为所有将优先级设置为此图标的机器人的新优先级目标。选择“无”将禁用此 NPCBot 的优先级目标。

#### NPCBot 能力
NPCBot 使用大多数真实职业法术。一些法术/能力，如增益、治疗、移除诅咒/毒药等，可通过 NPCBot 的能力菜单获得。等级限制也适用于 NPCBot，例如术士在达到 8 级之前不能使用恐惧
从 Gossip 菜单中选择“管理技能...”将为您提供他们可以对您或为您施放的法术/技能列表。“更新”选项将刷新法术列表，因为某些法术可能目前处于冷却状态
如果没有列出法术，这并不意味着 NPCBot 没有该法术，可能你只是无法手动使用它
NPCBots 的能力检查算法包括寻找缺失的增益效果、治疗好友、补充消耗品（如生命石）、职业附魔（盗贼、萨满）、实用工具（如在落后太多时使用冲刺）、团队和自身法术、自我治疗、寻找人群控制目标以及最终的攻击能力

使用“管理允许的能力...”子菜单，您可以让机器人不使用某些法术。禁用的法术列表保存在数据库中

#### NPCBot 天赋
NPCBot 不使用普通的天赋选择系统。相反，它使用主天赋树（根据规格），同时从其他两棵天赋树中挑选重要天赋，最高可达第 3 级（适用于相同规格的玩家）。
从 Gossip 菜单中选择“管理天赋...”以选择一个专长。随着您的升级，机器人将激活它并继续使用所选专长。此操作没有冷却时间

#### NPCBot 分组
尽管 NPCBot 会跟随其主人，无论是否组队，并且通常会为组外的人提供增益，但创建组将使 NPCBot 能够正确利用仅为组成员保留的增益
分组也是正确使用 DungeonFinder 所必需的（因为您无法在未分组的实例中或实例中召唤 NPCBot）

>**注意**：
>如果 DungeonFinder 组只有一个真实玩家，则战利品规则将设置为“免费”

#### NPCBot 和车辆
当玩家使用车辆时，NPCBot 总是会尝试使用车辆。对于随机车辆类型，机器人只会复制玩家的动作，但对于必要的车辆，机器人会使用自己的策略。以下是列表：
```
龙眠天爪 (永恒之眼)
Ruby Drake（Oculus）
翡翠幼龙 (Oculus)
琥珀德雷克 (Oculus)
银色战马 / 战狼 (冠军的试炼)
联盟 / 部落武装直升机炮 (冰冠堡垒武装直升机战斗)
变异的憎恶（冰冠堡垒普崔塞德教授，机器人永远不会使用）
```
注意：NPCBot 在战斗中不会自动下车。使用 `.npcbot vehicle jet` 命令强制他们下车。

#### NPCBot 附加功能
根据 NPCBot 的等级，该 NPCBot 的八卦菜单中可能会有额外的选项

例如，Rogue NPCBots 将显示以下选项：
```
- 帮我撬锁 (XX)
- 我需要你来补充毒药
- <选择毒药（主手）>
- <选择毒药（副手）>
```
撬锁工具可让您打开世界中上锁的箱子和库存中的上锁物品。技能等级 (XX) 基于 NPCBot 的等级
可以为预期遭遇选择毒药。完成后，你必须告诉你的 NPCBot 刷新毒药

萨满 NPCBot 的武器附魔菜单也类似

法师 NPCBots 将为您提供：
```
- 我需要食物
- 我需要喝点东西
- 我需要一张茶点桌
- 我需要一个门户
```
这些选项会为你召唤一堆食物或饮料
如果你的等级足够高，法师 NPCBot 可以为你和你的团队召唤一个茶点桌和传送门

术士 NPCBots 将会提供以下选项：
```
- 我需要你的生命石
-我需要一个灵魂之井
```
第一个选项会让术士给你他们的生命石
如果你的等级足够高，术士 NPCBot 可以召唤灵魂之井
这里也适用等级限制

猎人和术士 NPCBot（一旦达到 10 级）也有宠物子菜单：
```
- <选择宠物类型>
```
你还知道等级限制吧？
因为它们不太适用于猎人。他可以召唤任何类型的宠物，但异域宠物要到 80 级才能解锁

最后，所有 NPCBot 都会有以下额外选项：
```
- 你被解雇了
- 没关系
```
“您被解雇了”将使 NPCBot 脱离您的控制。他们会变得愤怒，将所有装备扔向您，然后返回其出生位置。他们还会在 5 分钟内变得愤怒，直到攻击任何试图雇用他们的人（这可以在配置中禁用）
“没关系”只会关闭八卦菜单

### NPCBot 漫游系统
除了主要目的是协助玩家之外，NPCBot 还可以用作自主单位。漫游机器人会携带装备生成，但不受玩家控制，也不能被雇佣。以下是支持的功能列表：
1. 在开放世界中漫游的机器人。配置设置 **`NpcBot.WanderingBots.Continents.Count`** 控制漫游世界地图的所需机器人数量。生成点是随机的，级别是相应选择的。这些机器人在杀死敌人后会给予小额奖励和额外经验。有关更多信息，请参阅配置文件。
2. 为战场生成漫游机器人。通过**`NpcBot.WanderingBots.BG.Enable`**设置启用，此功能允许生成 NPCBot 来填充 BG 队列并自行参与 BG 比赛。机器人目前无法完成 BG 目标。目前仅实现了战歌峡谷和阿拉希盆地。

### NPCBot 配置设置
如果某些配置设置看起来模棱两可，本节可能会对你有所帮助

- **`NpcBot.BaseFollowDistance`**
- 此参数决定阵型大小和敌人追逐的截止距离
- 值范围： **0-100**
- 每次登录后不保存
解释。机器人以队形围绕着你，其中坦克在前面，近战在侧面，远程在后面。如果此参数的值为 30 或更小，它们与你的距离不会改变。超过 30 后，它线性增加，直到你和你的机器人之间的距离增加 10 码。机器人开始攻击来袭敌人的距离也由此参数决定。这是*玩家*（或*机器人*，如果驻扎）与敌人之间的距离，约为此参数值的 75%。如果机器人的攻击目标移动到此范围之外，机器人将停止攻击（除非你也攻击这个目标）并撤退。**这意味着**如果此参数设置得较低，机器人的动作和追逐动作可能会变得不稳定。如果此参数设置为 **0**，除非你指向攻击目标（使用你的近战攻击，仅在战斗中有效），否则机器人将采取被动行动；如果您希望机器人进攻并撤退，或者在盲目攻击很危险并且您需要机器人只攻击您希望它们攻击的目标的情况下，这可能会很有用。**自动攻击法术（如 Autoshot 或 Shoot Wand）会取消您的近战攻击**
- **`NpcBot.XpReduction`**
- 此参数允许您设置升级期间使用机器人的玩家的 XP 增益百分比惩罚。当一个组中有多个玩家时，该组中任何玩家雇用的机器人的最大数量将用于计算 XP 减少量
- 值范围： **0-90**
解释。第一个机器人之后，每个使用的机器人的 XP 数量都会减少一定百分比（无论机器人是否与玩家组队）。两个机器人能够比一个玩家造成更大的伤害，尤其是在低级别时。机器人也为磨练提供了巨大的潜力。所以你可能想稍微惩罚一下你的玩家。公式是：**(100 - X \* (Y - 1))%** 获得的 XP，其中 **X** 是 XP 减少，**Y** 是机器人数量。*示例：XP 减少为 10，机器人数量 = 4；获得的 XP：100 - 10 * (4 - 1) = 获得的 XP 70%*。无论如何，此参数的整体 XP 减少永远不会超过 90%。**此惩罚仅适用于机器人的所有者**
- **`NpcBot.HealTargetIconsMask`**
- 此参数允许玩家使用目标图标将不受玩家控制的单位标记为朋友
解释。有时你需要保护自己以外的目标，护送任务就是一个很好的例子。激活此参数后，玩家可以在他们希望机器人关注的目标上设置 *Raid Icon*。机器人会将该目标视为玩家队伍的成员，在需要时对其进行治疗并协助其战斗。参数本身是一个位掩码，由分配给每个目标图标的值组合组成：**星形 - 1、圆形 - 2、菱形 - 4、三角形 - 8、月亮 - 16、正方形 - 32、十字形 - 64、骷髅 - 128**。*示例：星形、菱形和三角形 = 1 + 4 + 8 = 13*
- **`NpcBot.TankTargetIconsMask`**
- 此参数类似于“NpcBot.HealTargetIconsMask”，但此参数标记了 NPCBot 主坦克的目标
- 你的主坦克**不会停止攻击指向目标**，直到它死亡或图标被取消
- **`NpcBot.OffTankTargetIconsMask`**
- 此参数类似于 `NpcBot.TankTargetIconsMask`**，但此参数标记了 NPCBot 副坦克的目标
- 你的副坦克**不会停止攻击指向目标**，直到它死亡或图标被取消
- **`NpcBot.DPSTargetIconsMask`**
- 与“NpcBot.TankTargetIconsMask”相同，但这会影响你的伤害输出者，以及启用了 DPS 角色但没有指向坦克目标的（非）坦克，规则相同
- **`NpcBot.RangedDPSTargetIconsMask`**
- 与“NpcBot.DPSTargetIconsMask”相同，但这只会影响你的远程 NPCBots
- **`NpcBot.NoDPSTargetIconMask`**
- NPCBot 将尝试不伤害这些目标
- **`治疗 / 坦克 / DPS _TargetIconsMask` 优先级**
- 对于每个尖锐目标类型，优先级按照右键下拉菜单中目标图标列表的相反顺序排列：从*骷髅*（最高）到*星星*（最低）
- **`治疗 / 坦克 / DPS _TargetIconsMask` 交叉点**
- 如果目标图标之间存在任何位掩码交集（简单地说，无论是偶然还是其他原因，使用了相同的图标），则适用以下规则：
- 治疗 + DPS 目标**不会受到嘲讽或攻击攻击者的保护**
- 治疗 + DPS 目标**可能仍会被治愈**如果可以治愈
- 治疗 + DPS 目标**仍可能被攻击**如果可攻击且处于战斗中
- 治疗 + (非)坦克目标**仍将被坦克**如果可以被攻击
- 所有 DPS 图标将自动从 **`NoDPSTargetIconMask`** 中排除
- **`NpcBot.Cost`**
- 此参数决定玩家需要支付多少钱来雇佣机器人
- 这是玩家**达到 80 级**时需要支付的金额，较低级别时成本会减少：
- 1-10 级：成本 / 5000
- 11-20 级：成本 / 100
- 21-30 级：成本 / 20
- 31-40 级：成本 / 5
- 等级 41 以上：成本 / 80 \* 等级
解释。您设置的值以铜为单位（1 银 = 100 铜，1 金 = 100 银 = 10000 铜）。稀有和精英机器人成本更高（稀有为 **x2**，精英为 **x5**）
- **`NpcBot.Movements.InterruptFood`**
- 此参数决定机器人移动时是否应停止进食和饮水
解释。默认情况下，此参数被禁用，以防止机器人发送食物和饮料垃圾邮件，因为机器人一有机会就会尝试吃喝，也就是说每次它们什么都不做，哪怕只有一瞬间
- **`NpcBot.EquipmentDisplay.Enable`**
- 此参数允许机器人在其模型上显示除武器之外的装备物品
解释。通常，对于生物，游戏客户端仅绘制由模型 ID 确定的默认模型。此参数强制向客户端提供在服务器端生成的单位模型和装备槽中物品的信息；因此，客户端绘制的不是默认模型，而是玩家模型组件，包括肤色、面部、面部毛发和其他包括“装备”物品。玩家可能遇到的唯一问题来自游戏客户端错误，该错误可能导致游戏退出时崩溃（客户端崩溃，而不是服务器崩溃），错误 \#132。可以通过在短时间内更改具有 UNIT_FLAG2_MIRROR_IMAGE 的单位基本模型超过 4 次来重现此错误，因此机器人变形或德鲁伊变形更有可能导致此问题

### NPCBot Mod 本地化
所有可本地化的字符串都包含在 `npc_text` 表中。如果您想要进行翻译，则必须相应地填充 `npc_text_locale` 表（`Text0_0` 字段）

### NPCBot 额外课程
＃＃＃＃ 一般信息
NPCBot mod 具有几个受《魔兽争霸 III》启发的自定义类。这些机器人被评为 Rare、Elite 或 Rareelite，具有不同的法力增加率，不能喝水来恢复法力，具有更高的等级和雇佣成本，可能有最低玩家等级要求。此外，控制魔法对它们的影响要小得多，甚至比对玩家的影响还要小。它们并不打算像普通类那样有效和/或在任何给定级别上保持平衡。它们的主要目的是支持您和其他机器人。有关某些类的基本信息，请使用 Gossip 菜单并单击“<研究生物>”。如果您需要更多信息，请继续阅读

剑术大师
*（上一版本已禁用）*
**等级：稀有**
**等级奖励：+1**
**最低玩家等级：1**
**设备影响视觉：否**
**包含数量：1**
**职业特性**：攻击速度极高，装备武器不影响攻击速度，攻击力来自属性：敏捷x9，普通攻击无法暴击，无法闪避或招架，额外护甲穿透80%
可装备武器：双手剑、双手斧和长柄武器
可装备盔甲：任意（无盾牌）
能力：

- 虚空行者。剑圣会隐形，移动速度加快，持续 30 秒。如果剑圣打破隐形状态进行攻击，他将在第一次攻击中造成 150% 的伤害
- 镜像。剑圣消失，制造 1-3 个自己的幻象（取决于英雄等级）。同时驱散他身上的所有魔法。镜像不会造成真正的伤害，而且自身会受到 200% 的伤害
- 致命一击（被动）。有 15% 的几率造成 x2-x4 倍正常伤害的致命一击（取决于英雄等级）
- Bladestorm（未实现）

**附加信息：**剑圣是单目标伤害能力最高的职业，如果装备得当，几乎可以一击毙命。不幸的是，由于移动机制的变化，剑圣的致命一击动画无法再模拟，因此该职业在上一版本中被禁用

黑曜石毁灭者
**等级：稀有**
**等级奖励：+3**
**最低玩家等级：60**
**装备影响视觉：仅限武器**
**包含数量：2**
**职业特性：***非常*高的抵抗力，*负*的法力回复，无法通过被动法力回复效果（如物品 mp5 属性）抵消，无法骑乘，无法近战攻击，耐力加成 +50%，护甲加成：+50%，受到的所有伤害减少 33%，属性攻击强度：力量 x2，法术强度加成：50% 攻击强度 + 200% 智力 + 魔杖，无法进食
可装备武器：魔杖 **x 2**
可装备的盔甲：锁子甲/板甲（无盾牌），**无珠宝或披风**
能力：

- 吞噬魔法。驱散敌人最多 2 个魔法效果，驱散盟友最多 2 个魔法效果和 2 个诅咒效果，并对 20 码范围内的召唤单位造成伤害，恢复施法者的法力和生命值（每个驱散效果恢复 20% 法力和 5% 生命值）
- 暗影冲击。强化攻击，对较大范围内的目标造成更大的溅射伤害。主要目标受到的伤害大于其他目标
- 吸取法力。吸取随机 ***友方*** 单位的所有法力。吸取的法力值受黑曜石毁灭者的最大法力值限制。**此技能无法禁用**
- 补充法力。为 25 码范围内的所有小队和团队成员注入能量，使其恢复最大法力值的 3%。 *此技能会消耗所有法力*
- 恢复生命值。为 25 码范围内的所有小队和团队成员恢复其最大生命值的 3%。 *此技能会消耗所有法力*
- 暗影护甲（被动）。恢复相当于所受伤害百分比的法力。只有当所受伤害足以恢复黑曜石毁灭者 10% 的法力时，才会触发此技能

**附加信息：**黑曜石毁灭者实际上源自非英雄单位，但由于能够在有机会时造成大量伤害、同时支援任何类型的队伍、驱散、净化和坦克，利用原始单位两种形态的能力（雕像形态和真实形态），因此获得了精英地位

大法师
**等级：稀有**
**等级奖励：+1**
**最低玩家等级：20**
**设备影响视觉：否**
**包含数量：1**
**职业特性：** 始终骑乘（仅限地面坐骑）、无近战攻击、护甲加成：500% 智力、受到的法术伤害减少 35%、法术强度加成：100% 智力
可装备武器：法杖
可装备盔甲：布甲（无盾牌）
能力：

- 暴雪。它看起来像典型的法师暴雪，但实际上有点不同。它没有冰冻效果或其他效果，但基础伤害更高，并且法术强度的增幅更大
- 召唤水元素。大法师水元素持续时间为 1 分钟，冷却时间为 20 秒，不会耗尽法力，而且伤害更大，因为 W3 大法师可以同时拥有 3 个活跃元素
- 光辉光环。使 40 码范围内的小队和团队成员的最大法力值提高 10%，法力恢复速度提高 100%
- 大规模传送（未实现）

**附加信息：**大法师最受重视的是他在大群体中的支持能力，尽管他很脆弱

恐惧魔王
**等级：稀有**
**等级奖励：+3**
**最低玩家等级：60**
**设备影响视觉：否**
**包含数量：5**
**职业特性：** 高抗性，无法骑乘，耐力加成 +20%，护甲加成：+50%，受到的所有伤害减少 15%，致命一击等级 x2，属性攻击强度：力量 x8，法术强度加成：200% 力量
可装备武器：斧头、钉头锤、剑、双手斧、双手钉头锤、双手剑、长柄武器、法杖、拳套武器、匕首
可装备装甲：板甲（无盾牌）
能力：

- 腐尸群。该技能会在一个非常大且长的锥形范围内对敌人造成伤害，治疗恐惧魔王，造成 100% 的有效伤害，可以轻松恢复恐惧魔王的所有生命值，法力消耗高。腐尸群对失去行动能力的目标造成双倍伤害
- 睡眠。使敌人陷入睡眠状态 60 秒，并在持续时间内降低 100% 的护甲。持续伤害效果不会中断此效果，只有直接伤害才会中断
- 吸血鬼光环。增加 5% 的物理暴击伤害，并为 40 码范围内的小队和团队成员治疗 25%（恐惧魔王为 100%）的近战物理攻击伤害。此治疗不产生威胁值
- 地狱火。在目标位置召唤地狱火仆从，对该区域内的敌方单位造成伤害和眩晕。地狱火对魔法有很强的抵抗力，其属性与恐惧魔王的属性成正比。地狱火燃烧，每 2 秒对周围的敌人造成伤害，持续时间为 180 秒

**附加信息：**恐惧魔王在有大量近战职业的大型队伍中最为有用，并且如果拥有足够的加速和护甲穿透，在 pvp 中也会非常烦人

#### 破咒者
**等级：稀有**
**等级奖励：+1**
**最低玩家等级：20**
**设备影响视觉：否**
**包含数量：5**
**职业特性：**所有受到的法术伤害减少 75%，护甲惩罚：-30%，属性攻击强度：力量 x5，格挡几率 +90%，法术强度加成：力量 200%
可装备武器：斧头、狼牙棒、剑、拳套武器、匕首
可装备护甲：锁子甲/板甲
能力：

- 窃取魔法。窃取敌人的有益法术并将其转移给附近的盟友，或移除盟友的负面法术并将其转移给附近的敌人，影响魔法和诅咒效果。转移效果持续时间最长为 5 分钟*，最短为 5 秒*
- 反馈（被动）。近战攻击会燃烧目标的法力，造成奥术伤害。燃烧的量等于造成的近战伤害乘以法术强度。如果目标被耗尽，破法者的近战攻击将造成三倍伤害，并增加致命一击几率。如果目标没有法力，破法者的伤害不会消耗目标的法力，而是恢复自己的法力，相当于造成伤害的 25%
- 控制魔法（未实现）

**附加信息：** 法术破坏者主要是纯粹的辅助职业，无法造成任何严重伤害，但也可以快速解决一些倒霉的施法者，在几秒钟内烧掉他所有的法力

#### 黑暗游侠
**等级：稀有**
**等级奖励：+3**
**最低玩家等级：40**
**设备影响视觉：否**
**包含数量：5**
**职业特性：**亡灵，伤害不产生威胁，不动时进入潜行模式，受到的法术伤害减少 35%，属性攻击强度：敏捷 x4 + 智力 x2，护甲穿透加成：50%，暴击加成 +20%，闪避加成 +30%，法术强度加成：50% 智力
可装备武器：剑、匕首、弓
可装备盔甲：布甲/皮革（无盾牌）
能力：

- 沉默。使敌人和附近的目标沉默 8 秒。最多 5 个目标，15 秒冷却时间
- 黑箭。射出一支诅咒之箭，造成 150% 的武器伤害和持续性额外伤害。如果受影响的目标死于黑暗游侠的伤害，黑暗仆从将从尸体中产生（不适用于玩家），留下一堆血块（可拾取）。如果目标生命值低于 20%，则造成 5 倍伤害。仅影响人形生物、野兽和龙类。如果目标单位的等级为稀有、精英或稀有精英，则产生精英仆从。最多 5 个仆从，仆从存活 80 秒，并且免疫治疗效果
- 吸取生命。从 0 开始，每秒吸取一名敌人的生命值，持续 5 秒（总共 6 次），为黑暗游侠治疗吸取量 200% 的生命值
- 魅力（未实现）
- 嘲讽（黑暗爪牙）。嘲讽近战范围内的敌人，使其攻击黑暗爪牙而非黑暗游侠，持续 5 秒。一次性使用
- 强化格挡（黑暗奴仆）。格挡攻击的几率增加 60-100%（取决于施法者的等级），持续 6 秒。一次性使用

**附加信息：**黑暗游侠最适合单独与治疗师配合使用，或者作为大团体中的辅助，因为沉默冷却时间短，而且没有其他法力消耗

死灵法师
**等级：精英**
**等级奖励：+2**
**最低玩家等级：20**
**设备影响视觉：否**
**包含数量：5**
**职业特性**：受到的法术伤害减少 20%，无法进行近战攻击，法术强度加成：100% 智力
可装备武器：法杖
可装备盔甲：布甲（无盾牌）
能力：

- 复活死者。从尸体中复活 2 个骷髅（最多 6 个骷髅，持续时间 65 秒，只对人形生物、野兽和龙类有效）
- 邪恶狂暴。使目标的近战攻击速度提高 75%，但会持续消耗生命值并可能杀死目标。持续 45 秒。无法取消。30 级解锁
- 尸体爆炸。使尸体爆炸，对所有周围敌人造成相当于死亡单位最大生命值 35% 至 75% 的伤害（取决于死灵法师的等级）。此伤害不产生威胁。40 级解锁
- 致残。降低目标移动速度、近战攻击速度和总力量 50%，持续 60 秒。50 级解锁
- 嘲讽（骷髅）。嘲讽近战范围内的敌人，使其攻击骷髅而不是死灵法师，持续 5 秒。一次性使用
- 强化格挡（骷髅）。格挡攻击的几率增加 60-100%（取决于施法者的等级），持续 6 秒。一次性使用

**附加信息：** 死灵法师具有一些《暗黑破坏神 II》的精神。未来可能会出现诅咒。死灵法师主要是辅助类，除了 CE 之外，他没有任何伤害能力，但骷髅与邪恶狂暴相结合可以提供很大帮助

#### 娜迦海巫
**等级：稀有**
**等级奖励：+3**
**最低玩家等级：1**
**设备影响视觉：否**
**包含数量：5**
**职业特性**：受到的法术伤害减少 30%，攻击强度属性：敏捷 x2，招架奖励 +25%，法术强度奖励：200% 智力
可装备武器：匕首、弓
可装备盔甲：布甲（无盾牌）
能力：

- 叉状闪电。召唤一道闪电来伤害敌人。对所有目标造成 2 次攻击（取决于海巫的等级），使其昏迷 2 秒。此伤害不产生威胁值
- 冰霜箭。给箭注入法术冰霜以造成额外伤害，减缓目标的移动、攻击和施法速度 30% 至 70%（取决于海巫的等级）
- 法力护盾。使用海巫的法力创建一个护盾，吸收 100% 的来袭伤害（非减伤）。吸收 1 点伤害宠物的 10 点法力到每 1 点法力吸收 10 点伤害（取决于海巫的等级）
- 龙卷风。召唤猛烈的龙卷风，对附近的敌方单位造成伤害并使其减速，有时甚至会使其完全丧失行动能力。龙卷风在室外会随时间增大，造成更大的伤害并影响范围，但在室内会缩小并迅速消散。60 级解锁
- 娜迦（被动）。游泳速度增加200%，在水中时伤害和闪避几率大幅增加

**附加信息：**海巫是一位多才多艺的远程伤害输出者。她非常耐用，并具有一些 CC 能力

地穴领主
**等级：稀有**
**等级奖励：+3**
**最低玩家等级：1**
**设备影响视觉：否**
**包含数量：5**
**职业特性**：受到的近战伤害减少 30%，受到的法术伤害减少 15%，耐力加成 +20%，护甲加成：最高 +50%，属性攻击强度：力量 x9，法术强度加成：力量 200%
可装备武器：斧头、钉头锤、剑、双手斧、双手钉头锤、双手剑、长柄武器、法杖、拳套武器、匕首
可装备盔甲：锁子甲/板甲（无盾牌）
能力：

- 刺穿。地穴领主用他巨大的爪子猛击地面，向前方锥形区域射出尖刺，造成伤害，并将敌方单位抛向空中，使其昏迷。20 级解锁。
- 尖刺甲壳。墓穴领主的几丁质护甲可增强伤害抵抗力，并向敌方近战攻击者反击 15% 至 50% 的伤害。
- 腐尸甲虫。墓穴领主从敌人的新鲜尸体中繁殖出腐尸甲虫来攻击敌人。甲虫是永久性的，但不会恢复生命值，并且一次只能控制 6 只。更高的等级允许墓穴领主召唤更强大的甲虫。在 10 级解锁。
- 蝗虫群。地穴领主释放出 20-40 只（取决于地穴领主的等级）愤怒的蝗虫群，它们会撕咬附近的敌方单位，降低其移动或攻击能力。当它们咀嚼敌人的肉体时，它们会将其转化为一种物质，当它们返回时，可以为地穴领主恢复生命值。40 级解锁。

**附加信息：** Crypt Lord 是一名出色的近战伤害输出者，在很少的支持下，他可以成为一名不错的近战坦克。更高的等级还提供中等的 CC 能力。Crypt Lord 免疫基于毒药的效果（但不免疫伤害）

### NPCBot 职业
＃＃＃＃ 数据库
NPCBot 数据存储在以下位置：

- `字符`数据库
- `characters_npcbot`（由此 mod 创建）包含有关生成的 npcbots 的所有信息
- `characters_npcbot_group_member`（由该 mod 创建）包含 NPCBot 组成员记录
- `characters_npcbot_transmog`（由此 mod 创建）包含 NPCBots 的变形信息
- `characters_npcbot_gear_storage`（由此 mod 创建）包含每个玩家的 NPCBot 装备存储信息
另写信给：
- `item_instance`（项目所有者分配）
- `world` 数据库
- `creature_template_outfits`（由本模组创建）包含静态显示信息
- `creature_template_npcbot_appearance`（由本模组创建）包含动态显示信息
- `creature_template_npcbot_extras`（由此模组创建）包含种族和职业信息
- `creature_template_npcbot_wander_nodes`（由该模组创建）用于漫游机器人的移动点
- `creature_template` (ids 70000-71000\*) 包含机器人的生物基础数据
- `creature_equip_template` (ids 70000-71000\*) 包含机器人的标准武器信息
- `npc_text` (ids 70000-71000) 机器人八卦和类别描述的自定义文本
- “creature” 包含有关世界上生成的生物的信息
\* \- 自定义 NPCBot 创建的 ID 可能会超出最大限制

如果您想更改用于 NPCBots 的静态模板数据，您可以在“世界”数据库中对上述表格中的特定 ID 进行调整（即 npcbot 模型、服装等）
**请勿**修改“字符”DB NPCBot 表，任何包含意外损坏的 NPCBots 安装的错误报告将被丢弃，恕不另行通知
如果您需要删除自定义创建的 NPCBot，则需要先从世界中删除该机器人（使用 `.npcbot delete` 命令；您需要先移除他们的装备，否则物品将无法访问）。然后按条目（生物 ID）从 `creature_template_npcbot_extras`、`creature_template_npcbot_appearance` 和 `creature_equip_template` 表中删除，最后从 `creature_template` 中删除
如果您需要完全删除 NPCBot mod，则需要首先删除世界上生成的每个机器人（使用 `.npcbot delete` 命令）。然后删除 `characters_npcbot`、`characters_npcbot_group_member`、`characters_npcbot_transmog`、`characters_npcbot_gear_storage`、`creature_template_npcbot_extras`、`creature_template_npcbot_appearance` 和 `creature_template_npcbot_wander_nodes` 表并清除所有其他使用的按 id 条目表（70000-71000 + 可能还有更多自定义机器人条目）。如果您不使用 Npc Dress Mod，也可以删除 `creature_template_outfits`

游戏世界
机器人被视为活动对象，并像玩家一样保持地图网格加载
服务器加载时，机器人被添加到世界中（地图系统启动后）

#### 全新安装中包含的机器人总数：**312**

### NPCBot 插件
对于当前版本 (3.3.5)，有一个由 NetherstormX 提供的 [NetherBot](https://github.com/NetherstormX/NetherBot) 插件

---------------------------------------
## 指南更新日志

- **版本 0.25**（2023 年 6 月 14 日）
- 添加了“.npcbot useonbot ...”命令
- **版本 0.24**（2023 年 5 月 20 日）
- Crypt lord 实现细节
- **版本 0.23**（2023 年 2 月 8 日）
- 添加了附加组件信息
- **版本 0.22**（2022 年 12 月 24 日）
- 总体评价并修复了大量问题
- **版本 0.21**（2022 年 12 月 15 日）
- 添加了 `.npcbot sendto` 命令
- **版本 0.20**（2022 年 12 月 13 日）
- 添加了新命令/cmd 参数
- **版本 0.19**（2022 年 6 月 24 日）
- 添加了 `.npcbot command walk` 命令
- **版本 0.18**（2022 年 6 月 22 日）
- 增加了关于海巫的信息
- **版本 0.17**（2022 年 6 月 18 日）
- 修复大量错误，添加 ICC 车辆信息
- **版本 0.16**（2022 年 1 月 2 日）
- 增加了关于死灵法师的信息
- **版本 0.15**（2021 年 3 月 29 日）
- 添加了有关新安装方法的信息
- **版本 0.14**（2021 年 1 月 23 日）
- 增加了有关车辆和倾倒命令的信息
- **版本 0.13**（2021 年 1 月 20 日）
- 增加了车辆信息
- **版本 0.12**（2021 年 1 月 6 日）
- 增加了关于自动拾取的信息
- **版本 0.11**（_2020 年 11 月 7 日_）
- 添加了有关本地化的信息
-**版本 0.10**（2020 年 6 月 16 日）
- 添加了有关新配置设置的信息
- **版本 0.9**（2020 年 6 月 9 日）
- 添加了关于 botgiver 的信息
- **版本 0.8**（2020 年 5 月 15 日）
- 增加了关于突袭组单位框架的信息
- 添加了有关新命令的信息
- 增加了关于人才的信息
- **版本 0.7** (_2019 年 11 月 4 日_)
- 添加了配置消歧义
- 增加了关于额外课程的信息
- **版本 0.5.1**（_2019 年 11 月 3 日_）
- 更新分支 time-stop-2013
-**版本 0.5**（2019 年 10 月 30 日）
- Markdown 样式修复
-**版本 0.4**（2019 年 10 月 17 日）
- 添加了所有额外信息

---------------------------------------
